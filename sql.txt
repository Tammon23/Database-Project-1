CREATE TABLE users (
    username VARCHAR(50) primary key,
    password VARCHAR(255),
    firstname VARCHAR(50),
    lastname VARCHAR(50),
    date_of_birth DATE,
    registerday DATE,
    signintime DATETIME,
    salary FLOAT
);

CREATE VIEW users_with_age AS
SELECT *,
    TIMESTAMPDIFF(YEAR, date_of_birth, CURDATE()) AS age
FROM users;

-- Insert new user
INSERT INTO users (
    username,
    password,
    firstname,
    lastname,
    date_of_birth,
    registerday,
    signintime
) VALUES (?, ?, ?, ?, ?, ?, NULL);

-- Get password for authentication
SELECT password
FROM users
WHERE username = ?
LIMIT 1;

-- Search by first name
SELECT username, firstname, lastname
FROM users
WHERE firstname = ?;

-- Search by last name
SELECT username, firstname, lastname
FROM users
WHERE lastname = ?;

-- Search by full name
SELECT username, firstname, lastname
FROM users
WHERE firstname = ?
  AND lastname = ?;

-- Search by username
SELECT username, firstname, lastname
FROM users
WHERE username = ?;